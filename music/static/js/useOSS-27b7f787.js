import{aU as c,aV as r,ax as u,C as S,n as T,t as i}from"./index-5e9e0e40.js";import{k as t}from"./song-0c14b6ac.js";const y="/api/song/upload";var o;const I={Authorization:c(((o=r())==null?void 0:o.accessToken)||"")},g=100*1024*1024,d=256*1024*1024,k="256MB",m=".mp3, .flac",p=10,E=s=>{const{name:a,size:e}=s;return e>d?(u(`${a}文件超出${k}大小限制，已取消上传`,{type:"error"}),!1):!0};function K(){const s=S(null),a=T("");return i(async()=>{const e=await t();a.value=e.region,s.value=new window.OSS({region:"oss-cn-chengdu",accessKeyId:e.accessKeyId,accessKeySecret:e.accessKeySecret,stsToken:e.stsToken,bucket:e.bucket,refreshSTSToken:async()=>{const n=await t();return{accessKeyId:n.accessKeyId,accessKeySecret:n.accessKeySecret,stsToken:n.stsToken}},refreshSTSTokenInterval:3e5})}),{client:s,downloadPrefix:a}}export{m as A,I as H,p as L,k as M,y as U,E as a,g as b,K as u};
